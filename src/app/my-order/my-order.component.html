<h1>Predictive Ordering</h1>
<!-- Source for HTML is from Bootstrap (Custom forms -> Custom Select): https://getbootstrap.com/docs/4.3/components/input-group/ -->
<div class="input-group mb-3 input-group-lg">
  <div class="input-group-prepend">
    <label class="input-group-text" for="inputGroupSelect01">Select a Day</label>
  </div>
  <select class="custom-select" id="inputGroupSelect01">
    <option value="Monday">Monday</option>
    <option value="Tuesday">Tuesday</option>
    <option value="Wednesday">Wednesday</option>
    <option value="Thursday">Thursday</option>
    <option value="Friday">Friday</option>
    <option value="Saturday">Saturday</option>
    <option value="Sunday">Sunday</option>
  </select>
  <div class="input-group-append">
    <button (click)="filterDay()" class="btn btn-outline-primary" type="button">Submit</button>
  </div>
</div>
<div>
    <p style="text-align: center; font-style: italic">Please click submit after selecting a day</p>
</div>
<!-- If the selected day is Monday then display orders from Monday -->
<div *ngIf="selectedDay === 'Monday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of monday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- If the selected day is Tuesday then display orders from Tuesday -->
<div *ngIf="selectedDay === 'Tuesday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of tuesday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- If the selected day is Wednesday then display orders from Wednesday -->
<div *ngIf="selectedDay === 'Wednesday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of wednesday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- If the selected day is Thursday then display orders from Thursday -->
<div *ngIf="selectedDay === 'Thursday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of thursday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- If the selected day is Friday then display orders from Friday -->
<div *ngIf="selectedDay === 'Friday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of friday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- If the selected day is Saturday then display orders from Saturday -->
<div *ngIf="selectedDay === 'Saturday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of saturday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- If the selected day is Sunday then display orders from Sunday -->
<div *ngIf="selectedDay === 'Sunday'">
  <h3>The Most Popular Product Ordered on {{ selectedDay }}</h3>
  <table class="table">
    <thead>
      <tr>
        <th></th>
        <th>Product Title</th>
        <th>Product Quantity Ordered</th>
      </tr>
    </thead>
    <tbody id="firstRow">
      <tr *ngFor="let product of sunday">
        <td>
          <div [style.backgroundImage]="'url(' + product.img + ')'" class="thumbnail"></div>
        </td>
        <td>{{ product.name }}</td>
        <td>
          {{product.qty}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div>
  <h3>Order History for {{ selectedDay }}</h3>
  <ng-container *ngFor="let o of orders$">
    <table class="table" *ngIf="o.order.day === selectedDay">
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Status</th>
          <th>Cart</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ o.id }}</td>
          <td>{{ o.order.status }}</td>
          <td>
            <table>
              <tr>
                <th>Product Title</th>
                <th>Quantity<th>
              </tr>
              <tr *ngFor="let orderProduct of o.order.product">
                <td>{{orderProduct.title}}</td>
                <td>{{orderProduct.quantity}}</td>
              </tr>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </ng-container>
</div>